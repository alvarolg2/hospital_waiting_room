<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Iniciar Sesión - Hospital</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="login-container">
        <div class="tabs">
            <button class="tab-button active" onclick="selectRole('patients')" id="tab-patient">Patient</button>
            <button class="tab-button" onclick="selectRole('staff')" id="tab-staff">Staff</button>
        </div>
        <form id="loginForm" action="login.php" method="post">
            <input type="hidden" id="role" name="role" value="patients">
            <div class="input-group">
                <label for="username">Nombre de usuario:</label>
                <input type="text" id="username" name="username" required>
            </div>
            <div class="input-group">
                <label for="password">Contraseña:</label>
                <input type="password" id="password" name="password" required>
            </div>
            <div class="input-group" id="superuser-group" style="display: none;">
                <label for="superuser">Administrador:</label>
                <input type="checkbox" id="superuser" name="superuser">
            </div>
            <button type="submit" class="submit-button">Iniciar Sesión</button>
        </form>
        <div class="create-patient" id="create-patient-section">
            <a href="create_patient.php" class="create-patient-button">Registrar Nuevo Patient</a>
        </div>
    </div>

    <script>
        function selectRole(role) {
            console.log('Rol seleccionado:', role); // Mensaje de depuración
            document.getElementById('role').value = role;
            document.getElementById('tab-patient').classList.remove('active');
            document.getElementById('tab-staff').classList.remove('active');

            var createPatientsection = document.getElementById('create-patient-section');
            console.log('Sección para crear patient:', createPatientsection); // Mensaje de depuración

            if (role === 'patients') {
                document.getElementById('tab-patient').classList.add('active');
                createPatientsection.style.display = 'block';
            } else {
                document.getElementById('tab-staff').classList.add('active');
                createPatientsection.style.display = 'none';
            }
            var superUserGroup = document.getElementById('superuser-group');

            if (role === 'staff') {
                superUserGroup.style.display = 'block';
            } else {
                superUserGroup.style.display = 'none';
                document.getElementById('superuser').checked = false; // Reinicia el checkbox
            }
        }
    </script>
</body>
</html>

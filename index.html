<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Iniciar Sesión - Hospital</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="login-container">
        <div class="tabs">
            <button class="tab-button active" onclick="selectRole('pacientes')" id="tab-paciente">Paciente</button>
            <button class="tab-button" onclick="selectRole('personal')" id="tab-personal">Personal</button>
        </div>
        <form id="loginForm" action="login.php" method="post">
            <input type="hidden" id="role" name="role" value="pacientes">
            <div class="input-group">
                <label for="username">Nombre de usuario:</label>
                <input type="text" id="username" name="username" required>
            </div>
            <div class="input-group">
                <label for="password">Contraseña:</label>
                <input type="password" id="password" name="password" required>
            </div>
            <div class="input-group" id="superuser-group" style="display: none;">
                <label for="superuser">Administrador:</label>
                <input type="checkbox" id="superuser" name="superuser">
            </div>
            <button type="submit" class="submit-button">Iniciar Sesión</button>
        </form>
        <div class="create-paciente" id="create-paciente-section">
            <a href="create_paciente.php" class="create-paciente-button">Registrar Nuevo Paciente</a>
        </div>
    </div>

    <script>
        function selectRole(role) {
            console.log('Rol seleccionado:', role); // Mensaje de depuración
            document.getElementById('role').value = role;
            document.getElementById('tab-paciente').classList.remove('active');
            document.getElementById('tab-personal').classList.remove('active');

            var createPacienteSection = document.getElementById('create-paciente-section');
            console.log('Sección para crear paciente:', createPacienteSection); // Mensaje de depuración

            if (role === 'pacientes') {
                document.getElementById('tab-paciente').classList.add('active');
                createPacienteSection.style.display = 'block';
            } else {
                document.getElementById('tab-personal').classList.add('active');
                createPacienteSection.style.display = 'none';
            }
            var superUserGroup = document.getElementById('superuser-group');

            if (role === 'personal') {
                superUserGroup.style.display = 'block';
            } else {
                superUserGroup.style.display = 'none';
                document.getElementById('superuser').checked = false; // Reinicia el checkbox
            }
        }
    </script>
</body>
</html>
